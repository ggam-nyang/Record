## 항목 1: C++를 언어들의 연합체로 바라보는 안목은 필수

C++은 '클래스를 쓰는 C'에서 '다중패러다임 프로그래밍 언어'로 발전했다.  절차적, 객체 지향, 함수식, 일반화 프로그래밍을 포함하고 메타프로그래밍 개념까지 지원한다.    
이런 복잡하고 거대한 C++을 어떻게 이해해야할까?  -> C++을 단일 언어가 아닌, 여러 언어들의 연합체로 보자.

- C
  - C를 기본으로 하고 있다.
  - C++만의 것들이 상당히 많지만, 블록, 문장, 선행 처리자, 기본제공 타입, 배열, 포인터 등 많은 것이 C에서 옴
- 객체 지향
  - '클래스를 쓰는 C' 이므로 클래스, 캡슐화, 상속, 다형성, 가상 함수 등
- 템플릿
  - 너무나 강력한 기능이고, 많은 곳에 쓰임
  - 템플릿 메타프로그래밍이 파생됨 (TMP)
- STL
  - 컨테이너, 반복자, 알고리즘, 함수 객체 등이 얽혀 돌아감

이렇게 4가지 하위 언어들이 C++을 이루고 있다. 각각 언어의 규칙을 익히면 C++을 이해하는 것이다.    
예를 들어, C 스타일에서는 "기본 타입에 대해 값 전달이 참조 전달보다 대개 효율이 더 좋다"라는 규칙이 통하지만,  
객체 지향 C++에서는 생성자/소멸자 개념이 생기면서 상수 객체 참조자에 의한 전달 방식이 더 효율을 보인다.    
이런 현상은 템플릿 C++에서 더 두드러진다 (객체의 타입조차 모르기 때문)  그러나 STL에서는 반복자, 함수 객체가 C의 포인터를 본떠 만든 것이고 STL의 반복자 및 함수 객체에 대해서는 값 전달에 대한 규칙이 다시 힘을 발휘한다.  (자세한건 [[Item 20]]에서)

핵심은
C++은 한 가지 프로그래밍 규칙 아래 똘똘 뭉친 통합 언어(unified language)가 아니다.
네가지 하위 언어들의 연합체이다.

**C++를 사용한 효과적인 프로그래밍 규칙은 경우에 따라 달라진다. 그 경우란, 바로 C++의 어떤 부분을 사용하느냐이다.**

#### 추가학습
C 스타일에서는 "기본 타입에 대해 값 전달이 참조 전달보다 대개 효율이 더 좋다"라는 규칙에 대해 생각해보자.

일반적으로 참조, 포인터 전달이 더 유리하다고 생각했는데 기본 타입에 대해서는 값 전달이 더 효율적인 이유가 뭘까?

- 일반적으로 -> 여기서 나의 일반적은, 객체 지향 관점에서의 생성자, 소멸자 호출이 필요한 객체를 말했다.
  즉, 나는 객체 지향 C++을 고려했으므로, 책에서와 같이 상수 객체 참조자를 전달하는 방식이 효율적이다.
- 기본 타입 (int, float, char) 등의 경우 크기가 매우 작다. int는 4바이트이고 이를 복사하는 비용은 저렴하다.
- 그러나 참조 전달의 경우 한 단계 더 거쳐야 해서 약간의 성능 저하가 있을 수 있다.

나에게 일반적은 객체에 대한 관점이었고, 기본 타입에 대해서는 값 복사를 사용하도록 해야겠다.
(물론 상황에 맞게!)